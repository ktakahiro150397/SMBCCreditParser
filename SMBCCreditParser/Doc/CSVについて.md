# 三井住友のCSV構造について

支払いに関する情報がCSV形式で格納されている。

基本的には以下のような構造になっている。
列名は印刷用ページから流用。

|列番|内容|備考|
|---|---|---|
|1|ご利用日|yyyy/MM/dd形式|
|2|ご利用店名||
|3|ご利用金額||
|4|支払区分|全角の「`１`」などが入っている|
|5|今回回数|全角の「`１`」などが入っている|
|6|お支払い金額||
|7|備考欄|店に関する補足、または外貨の為替レートが入っている|

## 備考欄について

備考欄には、外貨の為替レートが入っている場合がある。
その場合、「`全角スペース`」で以下の項目が区切られて格納されている。

例：
`3.80　USD　145.980　08 08`

|列番|内容|備考|
|---|---|---|
|1|現地通貨額|小数点あり|
|2|略称名|`USD`など|
|3|換算レート|現地通貨の単位あたりの円金額|
|4|加算日|「`MM dd`」という特異な形式で登録されている|

全角スペースで区切れない場合は、備考として扱う。

区切れた場合でも、上記フォーマットに一致しない場合は備考として扱う。

# クレジットカード・ApplePayなどの支払い手段について

支払い手段が異なると場合、帳票での表示と同じように区切られる。

区切られている行は以下のような構造。

|列番|内容|備考|
|---|---|---|
|1|名前|「やね`{全角スペース}`いも`{全角スペース}`様」のように姓名を全角スペースで区切られ、様付けされている。|
|2|支払い手段の番号|支払い手段の識別子？(カード番号など) 後半はマスクされている|
|3|支払い手段の名前|支払い手段の名前(`三井住友カードデビュープラスＶＩＳＡ`,`ＡｐｐｌｅＰａｙ／ｉＤ`など)|

